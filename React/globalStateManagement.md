# ì „ì—­ ìƒíƒœ ê´€ë¦¬

ì „ì—­ ìƒíƒœ ê´€ë¦¬ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ê° ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ë°ì´í„° ì „ë‹¬ì„ ë³´ë‹¤ ì‰½ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ, Reactì—ì„œëŠ” propsë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ê°„ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤. ê·¸ëŸ¬ë‚˜ ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°ê°€ ë³µì¡í•˜ê³ , ë§ì€ ìˆ˜ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ì¤‘ê°„ì— ìœ„ì¹˜í•  ë•Œ propsë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì€ ë²ˆê±°ë¡­ê³ , ê´€ë¦¬í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, A-B-C-D ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë˜ë¡œ ë»—ì–´ìˆë‹¤ê³  ìƒê°í•´ë³´ì. D ì»´í¬ë„ŒíŠ¸ì—ì„œ A ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ(ë°ì´í„°)ë¥¼ ë°›ì•„ì˜¤ë ¤ë©´ B,C ì»´í¬ë„ŒíŠ¸ë¥¼ ê±°ì³ì•¼ í•œë‹¤. ì´ ë•Œ B,C ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ì „ë‹¬í•´ì£¼ëŠ” ì—­í• ì„ í•˜ê²Œ ë˜ê³  ì´ëŸ¬í•œ ìƒíƒœ ê´€ë¦¬ëŠ” ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë‹¤. ê·¸ëŸ¬ë‚˜ ì „ì—­ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•œë‹¤ë©´, A ì•„ë˜ ì–´ë–¤ ìì‹ ì»´í¬ë„ŒíŠ¸ë“  í•´ë‹¹ ë°ì´í„°ì— ìˆ˜ì›”í•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìœ ì§€ ë³´ìˆ˜ì„±ì„ í–¥ìƒì‹œí‚¤ê³ , ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ëŠ” íš¨ê³¼ê°€ ìˆë‹¤.

## 1. Context API

Reactì˜ Context APIëŠ” ì»´í¬ë„ŒíŠ¸ ê°„ì— ì „ì—­ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê³µìœ í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.

Context APIëŠ” Providerì™€ Consumerë¼ëŠ” ë‘ ê°€ì§€ ì»´í¬ë„ŒíŠ¸ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ProviderëŠ” Contextì˜ ê°’ì„ ì„¤ì •í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ê³ , ìì‹ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ê°’ì„ ì „ë‹¬í•œë‹¤. ConsumerëŠ” Contextì˜ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ì»´í¬ë„ŒíŠ¸ì´ê³ , Contextì˜ ê°’ì„ ì‚¬ìš©í•˜ì—¬ UIë¥¼ ë Œë”ë§í•œë‹¤.

### 1.1. `creatContext()`

createContext í•¨ìˆ˜ëŠ” Context ê°ì²´ë¥¼ ë°˜í™˜í•˜ë©°, ì´ ê°ì²´ëŠ” Providerì™€ Consumer ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©í•œë‹¤. createContext í•¨ìˆ˜ì˜ ì¸ìë¡œëŠ” Context ê°ì²´ì˜ ì´ˆê¸°ê°’ì„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. ì´ ê°’ì€ Providerê°€ ì—†ì„ ë•Œì— ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.

ProviderëŠ” value propì„ ë°›ì•„ì„œ ì´ ê°’ì„ í•˜ìœ„ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì—ê²Œ ì „ë‹¬í•˜ë©°, ê°’ì„ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ìˆ˜ì— ì œí•œì€ ì—†ë‹¤. Provider í•˜ìœ„ì— ë˜ ë‹¤ë¥¸ Providerë¥¼ ë°°ì¹˜í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë©°, ì´ ê²½ìš° í•˜ìœ„ Providerì˜ ê°’ì´ ìš°ì„ ì‹œëœë‹¤. Provider í•˜ìœ„ì—ì„œ contextë¥¼ êµ¬ë…í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” Providerì˜ value propê°€ ë°”ë€” ë•Œë§ˆë‹¤ ë‹¤ì‹œ ë Œë”ë§ëœë‹¤.

```js
import React, { createContext, useState } from "react";

export const UserContext = createContext();

export default function UserStore(props) {
  const [job, setJob] = useState("FE-developer");

  const user = {
    name: "seodongkeyong",
    job,
    changeJob: (updatedJob) => setJob(updatedJob),
  };

  return (
    <UserContext.Provider value={user}>{props.children}</UserContext.Provider>
  );
}
```

### 1.2. `useContext()`

useContextëŠ” Context ê°ì²´ì˜ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” í›…ì´ë‹¤. Context ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ì•„ í•´ë‹¹ Context ê°ì²´ì˜ ê°’ì„ ë°˜í™˜í•œë‹¤.

useContext í›…ì´ ì¶”ê°€ëœ ì´í›„ë¡œëŠ” Consumer ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ Context ê°’ì„ ê°„í¸í•˜ê²Œ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤.

```js
import React, { useContext } from "react";
import { UserContext } from "../store/user";

export default function BlogPage() {
  const userInfo = useContext(UserContext);
  console.log(userInfo);

  return (
    <div>
      <h1>BlogPage</h1>
    </div>
  );
}
```

## 1.3. Context APIì™€ `useReducer()`ë¥¼ ì´ìš©í•œ ì „ì—­ ìƒíƒœ ê´€ë¦¬

ìœ„ëŠ” useStateë¥¼ í†µí•´ ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•œ ì˜ˆì œë¼ë©´, ì•„ë˜ëŠ” useReducerë¥¼ í†µí•´ì„œ ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. useReducerë¥¼ ì´ìš©í•œë‹¤ë©´ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ìˆ˜ê°€ ë§ì„ ë•Œ, í˜¹ì€ ë³µì¡í•œ ë¡œì§ì„ êµ¬í˜„í•  ë•Œ ë” ì í•©í•˜ë‹¤.

> **ğŸ’¬ user.js**
>
> ```js
> import React, { createContext, useReducer } from "react";
>
> export const UserContext = createContext();
>
> const reducer = (state, action) => {
>   switch (action.type) {
>     case "changeJob":
>       return { ...state, job: action.text };
>
>     default:
>       throw new Error();
>   }
> };
> const initialUser = {
>   name: "seodongkeyong",
>   job: "FE-developer",
> };
>
> export default function UserStore(props) {
>   const [user, dispatch] = useReducer(reducer, initialUser);
>   console.log(user);
>
>   return (
>     <UserContext.Provider value={{ user, dispatch }}>
>       {props.children}
>     </UserContext.Provider>
>   );
> }
> ```

> **ğŸ’¬ blogPage.js**
>
> ```js
> import React, { useContext } from "react";
> import { UserContext } from "../store/user";
>
> export default function BlogPage() {
>   const { dispatch } = useContext(UserContext);
>   console.log(dispatch);
>
>   return (
>     <div>
>       <h1>BlogPage</h1>
>       <button
>         onClick={() => dispatch({ type: "changeJob", text: "BE-developer" })}
>       >
>         ChangeJob
>       </button>
>     </div>
>   );
> }
> ```

Context APIì™€ useReducerë¥¼ ì´ìš©í•œ ì „ì—­ ìƒíƒœ ê´€ë¦¬ ì˜ˆì œì´ë‹¤. ìœ„ ì½”ë“œì—ì„œ BlogPage ì»´í¬ë„ŒíŠ¸ëŠ” Context ê°ì²´ì¸ UserContextì—ì„œ dispatchë§Œì„ ê°€ì ¸ì™€ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, ë§Œì•½ userì— ë³€ê²½ì´ ì¼ì–´ë‚˜ì„œ BlogPageê°€ ë¦¬ë Œë”ë§ëœë‹¤ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤. (ì´ ë¬¸ì œëŠ” Context APIì™€ useStateë¥¼ ì´ìš©í•œ ì „ì—­ ìƒíƒœ ê´€ë¦¬ì—ì„œë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤!)

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ì‚¬ìš©í•  ê° ì†ì„±ì„ í•˜ë‚˜í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë‚˜ëˆ ì„œ ê´€ë¦¬í•˜ê±°ë‚˜ Reduxë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

## 2. Redux

ReduxëŠ” React ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìƒíƒœë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ì, ReduxëŠ” Flux ì•„í‚¤í…ì²˜(ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì„ ê°•ì œí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜)ì˜ êµ¬í˜„ì²´ ì¤‘ í•˜ë‚˜ì´ë‹¤. ReduxëŠ” ì „ì—­ì ì¸ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ë©° React ì»´í¬ë„ŒíŠ¸ ê°„ì— ë°ì´í„°ë¥¼ ê³µìœ í•˜ëŠ” ë° ìœ ìš©í•˜ë¯€ë¡œ Reactì˜ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì„¤ê³„ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°ì— ì í•©í•˜ë‹¤. Reduxë¥¼ ì‚¬ìš©í•˜ë©´ ìƒíƒœë¥¼ ì¤‘ì•™ ì§‘ì¤‘ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìœ¼ë©°, React ì»´í¬ë„ŒíŠ¸ëŠ” ì˜¤ì§ í•„ìš”í•œ ë°ì´í„°ë§Œì„ propsë¡œ ì „ë‹¬ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³µì¡ë„ë¥¼ ë‚®ì¶œ ìˆ˜ ìˆìœ¼ë©°, ê°œë°œìê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ì‰½ê²Œ ì¶”ì í•˜ê³  ë””ë²„ê·¸í•  ìˆ˜ ìˆë‹¤.

ReduxëŠ” ì„¤ì¹˜ê°€ í•„ìš”í•˜ë‹¤.

```bash
npm install redux
```

RuduxëŠ” useReducerì™€ ë§ˆì°¬ê°€ì§€ë¡œ Reducer í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³ , ìƒíƒœ ë³€í™”ë¥¼ ì¼ìœ¼í‚¤ëŠ” ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” action ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤. ì´ˆê¸° ìƒíƒœë¥¼ ì •ì˜í•  ë•Œ ì´ˆê¸°ê°’ì„ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ `createStore()` í•¨ìˆ˜ë¥¼ í†µí•´ Store ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ì´ˆê¸° ìƒíƒœë¥¼ ì •ì˜í•œë‹¤. ì´ ë•Œ ë¯¸ë“¤ì›¨ì–´(Middleware)ë¥¼ ì‚¬ìš©í•˜ê³ ì í•œë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ createStoreì˜ ë‘ë²ˆì§¸ ì¸ìì— `applyMiddleware()` í•¨ìˆ˜ë¡œ ê°€ì ¸ì˜¨ ë¯¸ë“¤ì›¨ì–´ë¥¼ ë„£ì–´ì¤€ë‹¤.

```js
import { createStore, applyMiddleware } from "redux";

const store = createStore(rootReducer, applyMiddleware(middleware));
```

ê·¸ ì™¸ì˜ ì¤‘ìš” í•¨ìˆ˜ë¡œ `combineReducers()` í•¨ìˆ˜ê°€ ìˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì—¬ëŸ¬ ê°œì˜ reducerë¥¼ í•˜ë‚˜ë¡œ í•©ì³ í•˜ë‚˜ì˜ reducer, ì¦‰ 'rootReducer'ë¥¼ ë§Œë“œëŠ” ì—­í• ì„ í•œë‹¤.

```js
import { combineReducers } from "redux";
import todosReducer from "./todosReducer";
import filterReducer from "./filterReducer";

const rootReducer = combineReducers({
  todos: todosReducer,
  filter: filterReducer,
});

export default rootReducer;
```

> **ğŸ“Œ Store ê°ì²´ì˜ ë©”ì„œë“œ**
>
> - subscribe  
>   : ìŠ¤í† ì–´ì˜ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ ë“±ë¡í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ì´ë¥¼ í†µí•´ ìŠ¤í† ì–´ì˜ ë³€í™”ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
>
> - dispatch
>   : ìŠ¤í† ì–´ì— ì•¡ì…˜ì„ ë³´ë‚´ì„œ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ì•¡ì…˜ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë‚˜ ì‚¬ìš©ì ì…ë ¥ê³¼ ê°™ì€ ê²ƒë“¤ì„ ë‚˜íƒ€ë‚´ë©°, ë°˜ë“œì‹œ typeì´ë¼ëŠ” í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤. useReducerì—ì„œ ì‚¬ìš©í•˜ëŠ” dispatchì™€ ë™ì¼ì´ë‹¤.
>
> - getState  
>   : ìŠ¤í† ì–´ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ì´ë¥¼ í†µí•´ í˜„ì¬ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

> **ğŸ“Œ react-redux**
>
> react-redux ëª¨ë“ˆì€ React ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ Redux storeë¥¼ ì—°ê²°í•˜ëŠ” ë°ì— íŠ¹í™”ë˜ì–´ ìˆë‹¤. react-redux ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´ React ì»´í¬ë„ŒíŠ¸ì—ì„œ Redux storeì˜ ìƒíƒœë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•˜ì—¬ Redux ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë‹¤.
>
> ë‹¤ìŒì€ ì£¼ìš” ë¦¬ì•¡íŠ¸ í•¨ìˆ˜ì´ë‹¤.
>
> - `Provider`
>   : Redux storeë¥¼ React ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì œê³µí•˜ì—¬ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ Redux storeì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤. Context APIì˜ Providerì™€ ìœ ì‚¬í•˜ë‹¤.
> - `connect()`  
>   :Redux storeì™€ React ì»´í¬ë„ŒíŠ¸ë¥¼ ì—°ê²°í•˜ì—¬ Redux ìƒíƒœë¥¼ React ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ ì „ë‹¬í•˜ê±°ë‚˜, Redux ì•¡ì…˜ì„ React ì»´í¬ë„ŒíŠ¸ì—ì„œ ë””ìŠ¤íŒ¨ì¹˜í•  ìˆ˜ ìˆë„ë¡ í•˜ì—¬ React ì»´í¬ë„ŒíŠ¸ì—ì„œ Redux ìƒíƒœë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
> - `useSelector()`
>   : Redux ìŠ¤í† ì–´ì— ìˆëŠ” ìƒíƒœë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
> - `useDispatch()`
>   : ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
> - `useStore()`
>   : Redux ìŠ¤í† ì–´ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.
>
> react-redux ì—­ì‹œ ì„¤ì¹˜ê°€ í•„ìš”í•˜ë‹¤.
>
> ```bash
> npm install react-redux
> ```

### 2.1. Redux Toolkit

Redux Toolkitì€ Redux ê°œë°œì„ ë‹¨ìˆœí™”í•˜ê³  ê°œë°œ ìƒì‚°ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ë„ì›€ì„ ì£¼ëŠ” ê³µì‹ì ì¸ Redux íŒ¨í‚¤ì§€ë‹¤.

Redux Toolkitì€ ì„¤ì¹˜ê°€ í•„ìš”í•˜ë‹¤.

```bash
npm install @reduxjs/toolkit
```

#### 2.1.1. `configureStore()`

Redux Storeë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ì¼ë°˜ì ì¸ Redux Storeë¥¼ êµ¬ì„±í•˜ëŠ” ë° í•„ìš”í•œ ì‘ì—…ë“¤ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

configureStoreëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì¸ì(key)ë¥¼ ê°€ì§„ë‹¤.

- reducer  
  : ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•œë‹¤. ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
- **middleware**  
  : ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜ë‚˜ ë°°ì—´ì„ ì „ë‹¬í•œë‹¤. ì•¡ì…˜ ë””ìŠ¤íŒ¨ì¹˜ì™€ ë¦¬ë“€ì„œì˜ ì‹¤í–‰ ì‚¬ì´ì— ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ë¡œ, ë¦¬ë•ìŠ¤ì˜ ë™ì‘ì„ í™•ì¥í•˜ê±°ë‚˜ ë³€ê²½í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
- devTools  
  : Redux DevToolsë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì„¤ì •ì´ë‹¤. trueë¡œ ì„¤ì •í•˜ë©´ Redux DevTools Extensionì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , falseë¡œ ì„¤ì •í•˜ë©´ Redux DevToolsë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
- preloadedState  
  : ìŠ¤í† ì–´ì˜ ì´ˆê¸° ìƒíƒœë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
- enhancer  
  : ìŠ¤í† ì–´ë¥¼ ë³´ê°•í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. ë³´í†µ Redux DevTools Extensionê³¼ ê°™ì€ ì¶”ê°€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ë•Œ í™œìš©ëœë‹¤.

#### 2.1.2. `createReducer()`

ì¼ë°˜ì ìœ¼ë¡œ Reduxì—ì„œëŠ” ì•¡ì…˜ì˜ íƒ€ì…ë³„ë¡œ ë¶„ê¸°ë¥¼ ì²˜ë¦¬í•˜ëŠ” switchë¬¸ìœ¼ë¡œ ë¦¬ë“€ì„œë¥¼ ì‘ì„±í•œë‹¤. ê·¸ëŸ¬ë‚˜ ì´ë ‡ê²Œ ì‘ì„±ëœ ë¦¬ë“€ì„œëŠ” ì½”ë“œëŸ‰ì´ ë§ì•„ì§€ë©´ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë µê³ , ì½”ë“œì˜ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ëŠ” ë‹¨ì ì´ ìˆë‹¤. createReducerëŠ” ì´ëŸ¬í•œ ë¬¸ì œì ì„ ê°œì„ í•˜ê¸° ìœ„í•´, ê°„ë‹¨í•œ ê°ì²´ í˜•íƒœë¡œ ë¦¬ë“€ì„œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤. ê°ì²´ í˜•íƒœë¡œ ì‘ì„±ëœ ë¦¬ë“€ì„œëŠ” ê°ê°ì˜ ì•¡ì…˜ íƒ€ì…ì— í•´ë‹¹í•˜ëŠ” í•¨ìˆ˜ë¥¼ ê°€ì§€ë©°, ì´ í•¨ìˆ˜ëŠ” ì´ì „ ìƒíƒœë¥¼ ì¸ìë¡œ ë°›ì•„ì„œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•œë‹¤.

#### 2.1.3. `createSlice()`

Reducerì™€ Action Creatorë¥¼ í•œ ë²ˆì— ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆê³  Redux ë¦¬ë“€ì„œë¥¼ ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

createSlice í•¨ìˆ˜ëŠ” ë¦¬ë“€ì„œ í•¨ìˆ˜(creatReducer)ì™€ ì•¡ì…˜ ìƒì„±ì í•¨ìˆ˜(createAction)ë¥¼ ëª¨ë‘ ìƒì„±í•œë‹¤. ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬, ìŠ¬ë¼ì´ìŠ¤(slice)ë¼ëŠ” ê°œë…ì„ ë„ì…í•˜ê³ , ìŠ¬ë¼ì´ìŠ¤ ë³„ë¡œ ë¦¬ë“€ì„œë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ìŠ¬ë¼ì´ìŠ¤ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœ(state)ì—ì„œ íŠ¹ì •í•œ ì˜ì—­ì„ ë‹´ë‹¹í•œë‹¤.

createSlice í•¨ìˆ˜ì˜ ì²« ë²ˆì§¸ ì¸ì(key)ë¡œëŠ” ìŠ¬ë¼ì´ìŠ¤ì˜ ì´ë¦„ê³¼ ì´ˆê¸° ìƒíƒœë¥¼ ê°ì²´ í˜•íƒœë¡œ ì „ë‹¬í•œë‹¤. ë‘ ë²ˆì§¸ ì¸ìë¡œëŠ” ê°ì²´ í˜•íƒœì˜ ë¦¬ë“€ì„œ ì¼€ì´ìŠ¤ì™€ ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. ìŠ¬ë¼ì´ìŠ¤ ì´ë¦„ì€ name ì†ì„±ìœ¼ë¡œ, ì´ˆê¸° ìƒíƒœëŠ” initialState ì†ì„±ìœ¼ë¡œ ì •ì˜í•œë‹¤. ë¦¬ë“€ì„œ ì¼€ì´ìŠ¤ëŠ” reducers ì†ì„±ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.

#### 2.1.4. `createAsyncThunk()`

ë¯¸ë“¤ì›¨ì–´ë¡œ, Reduxì—ì„œ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë° ìµœì í™”ëœ ê°„ë‹¨í•œ íŒ¨í„´ì„ ì œê³µí•œë‹¤. createAsyncThunkë¥¼ ì‚¬ìš©í•˜ë©´ ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ì—¬ API í˜¸ì¶œì— ëŒ€í•œ ìƒíƒœì™€ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

### 2.2. ë¯¸ë“¤ì›¨ì–´(Middleware)

ë¯¸ë“¤ì›¨ì–´ëŠ” Reduxì™€ ê°™ì€ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ê¸° ì „ì— ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

ë¡œê¹…, ì—ëŸ¬ ì²˜ë¦¬ì™€ ê°™ì€ ë¹„ë™ê¸° ì‘ì—…ë“¤ì€ ì•¡ì…˜ì„ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” dispatch í•¨ìˆ˜ì— ì‘ì„±í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ê°€ë…ì„±ì„ ë–¨ì–´ëœ¨ë¦¬ê³  ìœ ì§€ë³´ìˆ˜ë„ ì–´ë µê²Œ ë§Œë“ ë‹¤. í•œí¸ Reducer í•¨ìˆ˜ëŠ” 'ìˆœìˆ˜ í•¨ìˆ˜(ë™ì¼í•œ ì¸ìê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ë™ì¼í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜!)'ë¡œ ì‘ì„±ë˜ì–´ì•¼ í•˜ëŠ”ë°, ë¹„ë™ê¸° ì²˜ë¦¬ ì‘ì—…ì€ ê°™ì€ ì…ë ¥ì— ëŒ€í•´ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ê¸° ë•Œë¬¸ì— ìˆœìˆ˜ í•¨ìˆ˜ì˜ ì¡°ê±´ì„ ìœ„ë°˜í•˜ë¯€ë¡œ Reducerì—ì„œëŠ” ì•„ì˜ˆ ì²˜ë¦¬í•  ìˆ˜ëŠ” ì—†ë‹¤. ì´ëŸ¬í•œ ì´ìœ  ë•Œë¬¸ì— ë¯¸ë“¤ì›¨ì–´ëŠ” Actionê³¼ Reducer ì‚¬ì´ì—ì„œ ìœ„ì¹˜í•˜ì—¬ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.

ëŒ€í‘œì ì¸ ë¹„ë™ê¸° í†µì‹ ì„ ìœ„í•œ ë¯¸ë“¤ì›¨ì–´ë¡œëŠ” redux-thunk, redux-saga, redux-observableì´ ìˆë‹¤. ë‹¤ë§Œ ìš”ì¦˜ì—ëŠ” Redux Toolkitê³¼ í•¨ê»˜ createAsyncThunkë¥¼ ì‚¬ìš©í•˜ëŠ” ì¶”ì„¸ì´ë‹¤.

> **ğŸ“Œ redux-thunk ì˜ˆì œ**
>
> redux-thunk ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì´ ìˆë‹¤.
>
> ì²«ì§¸, ì•¡ì…˜ ìƒì„±ì í•¨ìˆ˜ëŠ” ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µí•´ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì•¡ì…˜ ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ API í˜¸ì¶œ ë“±ì˜ ë¹„ë™ê¸° ì‘ì—… ìˆ˜í–‰ì´ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ëŒ€ì‹ , ì•¡ì…˜ ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¨ìˆœíˆ ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•œë‹¤. ì´ë¡œì¨ ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ì„ ë‹¨ìˆœí™”í•  ìˆ˜ ìˆë‹¤.
>
> ë‘˜ì§¸, ë¹„ë™ê¸° ì‘ì—…ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìš©ì´í•˜ë‹¤. ë¹„ë™ê¸° ì‘ì—…ì´ ì§„í–‰ ì¤‘ì¼ ë•ŒëŠ” ë¡œë”© ìƒíƒœë¥¼ í‘œì‹œí•˜ê³ , ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ íŒë‹¤. redux-thunkë¥¼ ì‚¬ìš©í•˜ë©´ ì´ëŸ¬í•œ ì‘ì—…ì„ ì‰½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
>
> ì…‹ì§¸, ì•¡ì…˜ ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, API í˜¸ì¶œì´ ì„±ê³µí•  ë•ŒëŠ” ì„±ê³µ ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•˜ê³ , ì‹¤íŒ¨í•  ë•ŒëŠ” ì‹¤íŒ¨ ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ì— ë”°ë¼ ë¶„ê¸° ì²˜ë¦¬í•˜ëŠ” ê²ƒë³´ë‹¤ ë” ê°„ë‹¨í•˜ê²Œ ì‘ì„± ê°€ëŠ¥í•˜ë‹¤.
>
> redux-thunkëŠ” ì„¤ì¹˜ê°€ í•„ìš”í•˜ë‹¤.
>
> ```bash
> npm install redux-thunk
> ```
>
> redux-thunkë¥¼ Redux storeì— ì¶”ê°€í•œë‹¤.
>
> ```js
> import { createStore, applyMiddleware } from "redux";
> import thunk from "redux-thunk";
>
> const store = createStore(rootReducer, applyMiddleware(thunk));
> ```
>
> dispatch í•¨ìˆ˜ì— thunk í•¨ìˆ˜ë¥¼ ë„£ì–´ì¤€ë‹¤.
>
> ```js
> function handleClick() {
>   dispatch(fetchUserThunk());
> }
> ```
>
> ë‹¤ìŒì€ ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ë¡œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” thunk í•¨ìˆ˜ì˜ ì˜ˆì œì´ë‹¤.
>
> ```js
> export const fetchUserThunk = () => {
>   return async (dispatch) => {
>     dispatch(fetchUserRequest());
>     try {
>       const res = await fetchUser();
>       dispatch(fetchUserSuccess({ name: res.name, email: res.email }));
>     } catch {
>       dispatch(fetchUserFailure());
>     }
>   };
> };
> ```

## 3. Recoil

Facebookì—ì„œ ê°œë°œëœ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, ì „ì—­ ìƒíƒœ ê´€ë¦¬ë¥¼ ì§€ì›í•œë‹¤.

Recoilì„ ì‚¬ìš©í•˜ë©´ Atomsì—ì„œ Selectorsë¥¼ ê±°ì³ React ì»´í¬ë„ŒíŠ¸ë¡œ ë‚´ë ¤ê°€ëŠ” data-flow graphë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. AtomsëŠ” ì»´í¬ë„ŒíŠ¸ê°€ êµ¬ë…í•  ìˆ˜ ìˆëŠ” ìƒíƒœì˜ ë‹¨ìœ„ë‹¤. SelectorsëŠ” Atoms ìƒíƒœ ê°’ì„ ë™ê¸° ë˜ëŠ” ë¹„ë™ê¸° ë°©ì‹ì„ í†µí•´ ë³€í™˜í•˜ì—¬ í•„ìš”í•œ ë°ì´í„°ë¥¼ ë§Œë“¤ì–´ë‚¸ë‹¤. AtomsëŠ” Reactì˜ ë¡œì»¬ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë™ì¼í•œ Atomì´ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê²½ìš° ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” ìƒíƒœë¥¼ ê³µìœ í•œë‹¤.

ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•˜ë©´ ê´€ë ¨ëœ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆë‹¤.

Recoilì€

Recoilì€ ì„¤ì¹˜ê°€ í•„ìš”í•˜ë‹¤

```bash
npm i recoil
```

ì•„ë˜ì™€ ê°™ì´ `atom()` í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±í•˜ê³ , `Selector()` í•¨ìˆ˜ë¥¼ í†µí•´ í•„ìš”í•œ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤.

```js
// í˜„ì¬ ì‚¬ìš©ìì˜ IDë¥¼ ì €ì¥í•˜ëŠ” Atom
const currentUserIDState = atom({
  key: "CurrentUserID",
  default: 1,
});

// currentUserIDStateë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì´ë¦„ì„ ê°€ì ¸ì˜¤ëŠ” Selector
const currentUserNameState = selector({
  key: "CurrentUserName",
  get: ({ get }) => {
    return tableOfUsers[get(currentUserIDState)].name;
  },
});

function CurrentUserInfo() {
  const userName = useRecoilValue(currentUserNameState);
  return <div>{userName}</div>;
}

function MyApp() {
  return (
    <RecoilRoot>
      <CurrentUserInfo />
    </RecoilRoot>
  );
}
```

Recoilì˜ ê°€ì¥ ê°•ë ¥í•œ ì ì€ ì•„ë˜ì™€ ê°™ì´ ë¹„ë™ê¸° ë°ì´í„° ì¿¼ë¦¬ë¥¼ í†µí•´ í•¨ìˆ˜ë“¤ì´ ë¹„ë™ê¸°ë¡œ ë™ì‘í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤ëŠ” ê²ƒì´ë‹¤. ìœ„ ì½”ë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ ë¹„ë™ê¸°ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

```js
const currentUserIDState = atom({
  key: "CurrentUserID",
  default: 1,
});

// currentUserIDState Atomì„ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ì´ë¦„ì„ ê°€ì ¸ì˜¤ëŠ” Selector
const currentUserNameStateQuery = selector({
  key: "CurrentUserName",
  get: async ({ get }) => {
    const response = await myDBQuery({
      userID: get(currentUserIDState),
    });
    return response.name;
  },
});

function CurrentUserInfo() {
  const userName = useRecoilValue(currentUserNameStateQuery);
  return <div>{userName}</div>;
}

function MyApp() {
  return (
    <RecoilRoot>
      <CurrentUserInfo />
    </RecoilRoot>
  );
}
```

ì¶”ê°€ì ì¸ íŠ¹ì§•ìœ¼ë¡œëŠ”, Recoilì€ promiseê°€ resolve ë˜ê¸° ì „ì— ë³´ë¥˜ì¤‘ì¸ ë°ì´í„°ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´, React Suspenseì™€ í•¨ê»˜ ë™ì‘í•˜ë„ë¡ ë””ìì¸ë˜ì–´ ìˆë‹¤ëŠ” ì ì´ë‹¤. ë˜í•œ SelectorëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ íŠ¹ì • ê°’ì„ ì‚¬ìš©í•˜ë ¤ê³  í•  ë•Œì— ì–´ë–¤ ì—ëŸ¬ê°€ ìƒê¸¸ì§€ì— ëŒ€í•œ ì—ëŸ¬ë¥¼ ë˜ì§ˆ ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” `<ErrorBoundary>`ë¥¼ ì´ìš©í•˜ì—¬ ì‰½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

> ğŸ“Œ ê·¸ ì™¸ (ì „ì—­)ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
>
> **Jotai**
>
> - Recoilì˜ ì˜í–¥ì„ ë°›ì•„ ì¼ë³¸ì—ì„œ ë§Œë“¤ì–´ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬
> - Recoilê³¼ ë§ˆì°¬ê°€ì§€ë¡œ Atoms ë‹¨ìœ„ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, JotaiëŠ” Atomsì„ ë” ì„ ì–¸ì ì¸ ë°©ì‹ìœ¼ë¡œ ì •ì˜í•˜ì—¬ ì‚¬ìš©í•˜ë¯€ë¡œ ê°€ë…ì„±ì´ ë›°ì–´ë‚¨
> - Recoilê³¼ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ ì œê³µ
>
> **constate**
>
> - Context + Stateë¼ëŠ” ì˜ë¯¸ë¡œ, Context APIë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¨ì ì„ ë³´ì™„í•œ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
> - ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ê³¼ëŠ” ë‹¬ë¦¬, ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ìƒíƒœì™€ ê´€ë ¨ëœ ë¡œì§ì„ í•¨ê»˜ ì‘ì„±í•˜ì—¬, ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŒ
