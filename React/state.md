# ìƒíƒœ(state)

ë¦¬ì•¡íŠ¸ì˜ stateë¥¼ ì´í•´í•˜ë ¤ë©´, ìš°ì„  ë¦¬ì•¡íŠ¸ì˜ ì‘ë™ ë°©ì‹ì„ ì•Œì•„ë³¼ í•„ìš”ê°€ ìˆë‹¤. ë¦¬ì•¡íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ ì¼ë°˜ì ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ëŠ” ë‹¤ë¥¸ ì‘ë™ ë°©ì‹ì„ ê°–ëŠ”ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì›¹í˜ì´ì§€ê°€ ë¡œë“œë  ë•Œ í•œë²ˆ ì‹¤í–‰ë˜ê³  ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•œë‹¤. í•˜ì§€ë§Œ ë¦¬ì•¡íŠ¸ëŠ” 'ìƒíƒœë¥¼ ë³€ê²½'í•˜ë©´ ê°€ìƒ DOM(Virtual DOM)ì„ ìƒì„±í•˜ì—¬ ì´ì „ì˜ ê°€ìƒ DOMê³¼ ìƒì„±ëœ ìƒˆë¡œìš´ ê°€ìƒ DOMì„ ë¹„êµí•˜ì—¬ ë³€ê²½ëœ ë¶€ë¶„ë§Œ ì—…ë°ì´íŠ¸í•œë‹¤.

stateëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê´€ë¦¬ë˜ëŠ” ë°ì´í„°ë¥¼ ì˜ë¯¸í•œë‹¤. stateëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œ, ê·¸ë¦¬ê³  ì‚¬ìš©ìì™€ì˜ ìƒí˜¸ì‘ìš©ìœ¼ë¡œ ì¸í•œ ë³€ê²½ì´ ìˆì„ ë•Œ ì‚¬ìš©ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë¦¬ì•¡íŠ¸ì—ì„œ ë¸Œë¼ìš°ì €ì— ì–´ë–¤ ë³€í™”ë¥¼ ì£¼ê¸° ìœ„í•´ stateë¥¼ ì¡°ì‘í•´ì•¼ í•œë‹¤.(+ propsë¥¼ ë‚´ë ¤ì¤„ ë•Œë„ ì—…ë°ì´íŠ¸ë¨!)

ë§Œì•½ stateë¥¼ ì¡°ì‘í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼œ í™”ë©´ì— ë³€í™”ë¥¼ ì£¼ëŠ” ì½”ë“œë¥¼ ì‹¤í–‰í•œë‹¤ë©´ ì–´ë–»ê²Œ ë™ì‘í• ê¹Œ?

> ğŸ’¬ App.js
>
> ```js
> import "./App.css";
> import Counter from "./components/Counter";
>
> function App() {
>   return (
>     <div className="App">
>       <Counter />
>     </div>
>   );
> }
>
> export default App;
> ```

> ğŸ’¬ Counter.js
>
> ```js
> import React from "react";
>
> export default function Counter() {
>   let count = 0;
>   return (
>     <div>
>       <button onClick={() => (count += 1)}>+1</button>
>       <br />
>       Counter: {count}
>     </div>
>   );
> }
> ```

ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ, ë²„íŠ¼ì„ í´ë¦­í•˜ë”ë¼ë„ 'count'ê°€ ì¦ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤. ì™œëƒí•˜ë©´ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì´ë²¤íŠ¸ê°€ ë°œìƒí•œë‹¤ê³ í•´ì„œ ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì²˜ìŒì— ë Œë”ë§ëë˜ 0ì´ ê³„ì† ë‚¨ì•„ìˆê²Œ ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ stateë¥¼ ì¡°ì‘í•˜ì—¬ ë°ì´í„°ë¥¼ ê´€ë¦¬í•´ì•¼ í•œë‹¤. (ìˆ˜ì •ëœ ì˜ˆì œëŠ” ì•„ë˜ì—ì„œ...)

## 1. ìƒíƒœ ê´€ë¦¬ Hook

### 1.1. `useState`

useStateëŠ” React Hook ì¤‘ í•˜ë‚˜ë¡œ, í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. í•´ë‹¹ í›…ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ React ëª¨ë“ˆì—ì„œ `useState` í•¨ìˆ˜ë¥¼ ê°€ì ¸ì™€ì•¼ í•œë‹¤.

```js
import React, { useState } from "react";
```

`useState`ëŠ” ë°°ì—´ì„ ë°˜í™˜í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ `const [state, setState] = useState(initialState)` í˜•íƒœë¡œ í‘œí˜„í•œë‹¤. ì²« ë²ˆì§¸ ìš”ì†ŒëŠ” 'í˜„ì¬ì˜ ìƒíƒœê°’'ì´ê³ , ë‘ ë²ˆì§¸ ìš”ì†ŒëŠ” 'ìƒíƒœë¥¼ ë³€ê²½í•  ë•Œ ì“°ëŠ” í•¨ìˆ˜'ë¡œ ë¦¬ë Œë”ë§ì„ ë°œìƒì‹œí‚¨ë‹¤. `useState`ì˜ ì²« ë²ˆì§¸ ì¸ìì¸ `state`ì— ì§ì ‘ ì ‘ê·¼í•´ì„œ ì†ì„±ì„ ìˆ˜ì •í•´ì„œëŠ” ì•ˆë˜ê³ , ë‘ ë²ˆì§¸ ì¸ìì¸ `setState`ë¥¼ ì´ìš©í•˜ì—¬ ì¡°ì‘í•´ì•¼ í•œë‹¤. ë§¤ê°œë³€ìˆ˜ì¸ 'initialState'ì—ëŠ” ìƒíƒœì˜ ì´ˆê¸°ê°’ì„ í• ë‹¹í•´ì¤€ë‹¤.

ì•„ë˜ëŠ” stateë¥¼ ì‚¬ìš©í•´ 'Counter.js'ë¥¼ ìˆ˜ì •í•œ ì½”ë“œì´ë‹¤.

```js
import React, { useState } from "react";

export default function Counter() {
  const [count, setCount] = useState(0);
  return (
    <div>
      <button onClick={() => setCount(count + 1)}>+1</button>
      <br />
      Counter: {count}
    </div>
  );
}
```

ì´ì œëŠ” ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ 'count'ê°€ ì¦ê°€í•œë‹¤. ì´ë¥¼ í†µí•´ Reactì˜ ìƒíƒœ ê´€ë¦¬ëŠ” `useState`ë¥¼ í™œìš©í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### 1.2. `useReducer`

`useReducer`ëŠ” React í›… ì¤‘ í•˜ë‚˜ë¡œ, `useState`ì²˜ëŸ¼ ìƒíƒœê°’ì„ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. `useState`ëŠ” í˜„ì¬ ìƒíƒœê°’ì„ ë°›ì•„ ìƒˆë¡œìš´ ìƒíƒœê°’ìœ¼ë¡œ ëŒ€ì²´í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤. ë°˜ë©´, `useReducer`ëŠ” ìƒíƒœê°’ ì—…ë°ì´íŠ¸ ë¡œì§ì„ í˜„ì¬ ìƒíƒœê°’ê³¼ ì•¡ì…˜ ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ì•„ì„œ ìƒˆë¡œìš´ ìƒíƒœê°’ì„ ë°˜í™˜í•˜ëŠ” reducer í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•œë‹¤. ì¦‰ `useReducer`ëŠ” ë‹¨ìˆœíˆ ê°’ì„ ëŒ€ì²´í•  ë•Œë³´ë‹¤ ì´ì „ ìƒíƒœì— í¬ê²Œ ì˜ì¡´í•˜ê±°ë‚˜ stateê°€ ë§¤ìš° ë³µì¡í•œ ê²½ìš°ì— ìƒˆë¡œìš´ ìƒíƒœë¥¼ ê³„ì‚°í•˜ê¸°ì— ì í•©í•˜ë‹¤.

```js
// reducer í•¨ìˆ˜ ì •ì˜
// reducer í•¨ìˆ˜ëŠ” (state, action) => newStateì˜ í˜•íƒœë¥¼ ë„ë©° stateë¥¼ ë°˜í™˜í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
function reducer(state, action) {
  switch (action.type) {
    // "increment" caseì¼ ë•Œì˜ newState ğŸ‘‰ count ìƒíƒœê°’ì„ 1 ì¦ê°€ì‹œí‚´
    case "increment":
      return { count: state.count + 1 };
    // "decrement" caseì¼ ë•Œì˜ newState ğŸ‘‰ count ìƒíƒœê°’ì„ 1 ê°ì†Œì‹œí‚´
    case "decrement":
      return { count: state.count - 1 };
    default:
      throw new Error();
  }
}

// ì´ˆê¸° ìƒíƒœê°’ ì„¤ì •
const initialState = { count: 0 };

// Counter ì»´í¬ë„ŒíŠ¸ ì •ì˜
function Counter() {
  // useReducerë¥¼ ì‚¬ìš©í•˜ì—¬ stateì™€ dispatch í•¨ìˆ˜ ìƒì„±
  const [state, dispatch] = useReducer(reducer, initialState);

  return (
    <div>
      Count: {state.count}
      {/* dispatch í•¨ìˆ˜ëŠ” type ì†ì„±ì„ ê°€ì§„ ì•¡ì…˜ ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ì•„ reducer í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬í•œë‹¤. */}
      <button onClick={() => dispatch({ type: "decrement" })}>-</button>
      <button onClick={() => dispatch({ type: "increment" })}>+</button>
    </div>
  );
}
```

Counter ì»´í¬ë„ŒíŠ¸ëŠ” `useReducer`ë¥¼ ì‚¬ìš©í•˜ì—¬ stateì™€ dispatch í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤. stateëŠ” í˜„ì¬ ìƒíƒœê°’ì„, dispatch í•¨ìˆ˜ëŠ” type ì†ì„±ì„ ê°€ì§„ ì•¡ì…˜ ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ì•„ reducer í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ìƒíƒœê°’ì„ ê³„ì‚°í•˜ê³  ì—…ë°ì´íŠ¸í•œë‹¤.

reducerëŠ” ìƒíƒœê°’ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ë¡œì§ì´ í¬í•¨ëœ í•¨ìˆ˜ì´ë‹¤. useReducerì—ì„œ í˜¸ì¶œë˜ë©°, ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ í˜„ì¬ ìƒíƒœê°’(state)ì„, ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì•¡ì…˜ ê°ì²´(action)ë¥¼ ë°›ëŠ”ë‹¤. dispatchë¥¼ í†µí•´ ì–»ì€ ì•¡ì…˜ ê°ì²´ì˜ type ì†ì„±ì„ ì°¸ì¡°í•˜ì—¬ ì•¡ì…˜ ì¢…ë¥˜ì— ë”°ë¼ ìƒíƒœê°’ì„ ì—…ë°ì´íŠ¸í•˜ê³ , ì—…ë°ì´íŠ¸ëœ ìƒíƒœê°’ì„ ë°˜í™˜í•œë‹¤.

## 2. ë¹„ë™ê¸°ë¡œ ì´ë£¨ì–´ì§€ëŠ” setState

ReactëŠ” ì„±ëŠ¥ì„ ìœ„í•´ ì—¬ëŸ¬ `setState()` í˜¸ì¶œì„ ë‹¨ì¼ ì—…ë°ì´íŠ¸ë¡œ í•œë²ˆì— ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì¦‰ `setState()` í˜¸ì¶œì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì´ë¤„ì§„ë‹¤. ì´ëŠ” `setState()` í˜¸ì¶œ ì‹œ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ì¦‰ì‹œ ë°˜ì˜ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ê¸°ë„ í•˜ë¯€ë¡œ, ì½”ë“œ ì‘ì„± ì‹œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤.

ë‹¤ìŒ ì½”ë“œë¥¼ ì‚´í´ë³´ì.

> **ğŸ’¬ setStateì˜ ë¹„ë™ê¸° ë™ì‘ìœ¼ë¡œ ì¸í•œ ë¬¸ì œì **
>
> ```js
> import React, { useState } from "react";
>
> export default function App() {
>   const [number, setNumber] = useState(1);
>
>   const add = () => setNumber(number + 1);
>   const subtract = () => setNumber(number - 1);
>   const multiplyBy2 = () => setNumber(number * 2);
>   const multiplyBy2AndAddBy1 = () => {
>     multiplyBy2();
>     add();
>   };
>
>   return (
>     <div>
>       <h1>Number : {number}</h1>
>       <div>
>         <button onClick={add}>+ 1</button>
>         <button onClick={subtract}>- 1</button>
>         <button onClick={multiplyBy2}>*2</button>
>         <button onClick={multiplyBy2AndAddBy1}>*2 + 1</button>
>       </div>
>     </div>
>   );
> }
> ```

ìœ„ ì½”ë“œì—ì„œ '\*2 + 1' ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ `multiplyBy2()`, `add()` ëª¨ë‘ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, `add()`ë§Œ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì˜¤ë¥˜ëŠ” stateì˜ ì—…ë°ì´íŠ¸ê°€ ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì—¬ëŸ¬ ì—…ë°ì´íŠ¸ê°€ ì˜ˆì•½ë˜ì–´ ë‚˜ì¤‘ì— ì¼ê´„ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤. ì¦‰ ë§ˆì§€ë§‰ìœ¼ë¡œ í˜¸ì¶œëœ `add()` í•¨ìˆ˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” 'number' ë³€ìˆ˜ëŠ” `multiplyBy2()`ì˜ ê²°ê³¼ê°’ì´ ì•„ë‹ˆë¼ multiplyBy2()ì—ì„œë„ ì‚¬ìš©ë˜ì—ˆë˜ 'number' ë³€ìˆ˜ì˜ ê°’ì´ë‹¤. ë§Œì•½ ì´ˆê¸°ê°’ì´ '5'ë¼ë©´, ê²°ê³¼ì ìœ¼ë¡œ `multiplyBy2AndAddBy1()` í•¨ìˆ˜ëŠ” { 5, 10, 6 } ì´ë¼ëŠ” 3ê°œì˜ Numberë¥¼ ê°€ì§€ê²Œ ë˜ê³  ë§ˆì§€ë§‰ ê²°ê³¼ê°’ì¸ 6ì´ë¼ëŠ” ê²°ê³¼ë¡œ ë®ì–´ì”Œì›Œì ¸ ì¶œë ¥ë˜ëŠ” ê²ƒì´ë‹¤.

ì´ëŸ¬í•œ ë¬¸ì œëŠ” `setState()`ì˜ ì¸ìë¥¼ ë„˜ê²¨ì¤„ ë•Œ ì½œë°± í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ë©´ í•´ê²°ëœë‹¤. ì½œë°± í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ë©´, `setState()` í•¨ìˆ˜ëŠ” ì´ì „ ê°’ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì„œ, ì´ì „ ê°’ì— ëŒ€í•´ ì¦‰ì‹œ ìƒˆë¡œìš´ ê°’ì„ ê³„ì‚°í•œë‹¤. ì•„ë˜ ì½”ë“œëŠ” `setState()`ì— ëŒ€í•œ ìˆ˜ì •ì´ë‹¤.

> **ğŸ’¬ setStateì˜ ë¹„ë™ê¸° ë™ì‘ì„ ì´í•´í•œ ì˜¬ë°”ë¥¸ ì½”ë“œ**
>
> ```js
> import React, { useState } from "react";
>
> export default function App() {
>   const [number, setNumber] = useState(1);
>
>   const add = () => setNumber((number) => number + 1);
>   const subtract = () => setNumber((number) => number - 1);
>   const multiplyBy2 = () => setNumber((number) => number * 2);
>   const multiplyBy2AndAddBy1 = () => {
>     multiplyBy2();
>     add();
>   };
>
>   return (
>     <div>
>       <h1>Number : {number}</h1>
>       <div>
>         <button onClick={add}>+ 1</button>
>         <button onClick={subtract}>- 1</button>
>         <button onClick={multiplyBy2}>*2</button>
>         <button onClick={multiplyBy2AndAddBy1}>*2 + 1</button>
>       </div>
>     </div>
>   );
> }
> ```

ì´ë ‡ê²Œ `setState()`ì˜ ì¸ìë¡œ ì½œë°± í•¨ìˆ˜ê°€ ë“¤ì–´ê°„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì˜ë„í•œëŒ€ë¡œ í•¨ìˆ˜ê°€ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

## 3. state ë¶ˆë³€ì„±

ë¶ˆë³€ì„±ì´ë€ 'ë©”ëª¨ë¦¬ ì˜ì—­ì˜ ê°’ì„ ì§ì ‘ì ìœ¼ë¡œ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤'ëŠ” ì˜ë¯¸ë¥¼ ì§€ë‹Œë‹¤.

ë¦¬ì•¡íŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œ ì´ì „ stateì™€ ì´í›„ stateë¥¼ ë¹„êµí•œë‹¤. ì´ë•Œ ë©”ëª¨ë¦¬ ì˜ì—­ì˜ ê°’ì„ ì§ì ‘ ë³€ê²½í•˜ë©´, ì¦‰, ë¶ˆë³€ì„±ì„ ì§€í‚¤ì§€ ì•Šìœ¼ë©´ ë¦¬ì•¡íŠ¸ëŠ” stateê°€ ë°”ë€Œì—ˆë‹¤ê³  ì¸ì§€í•˜ì§€ ëª»í•œë‹¤. ì™œëƒí•˜ë©´ ë¦¬ì•¡íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ ë§ˆì°¬ê°€ì§€ë¡œ 'ì–•ì€ ë¹„êµ'ê°€ ê¸°ë³¸ì´ê¸° ë•Œë¬¸ì´ë‹¤. ì¦‰ ë¦¬ì•¡íŠ¸ì—ì„œ ë³€í™”ë¥¼ ì¸ì‹í•˜ë ¤ë©´ ë©”ëª¨ë¦¬ ì˜ì—­ì˜ ê°’ì„ ì§ì ‘ ë³€ê²½í•˜ëŠ” ë°©ì‹ì´ ì•„ë‹Œ, ë©”ëª¨ë¦¬ ì˜ì—­ ìì²´ë¥¼ ë°”ê¿”ì•¼ í•œë‹¤.

> **ğŸ“Œ ì–•ì€ ë¹„êµ(Shallow Compare)ë€?**
>
> ì–•ì€ ë¹„êµë€ ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ë¹„êµí•  ë•Œ, í•´ë‹¹ ê°ì²´ì˜ ì°¸ì¡°ê°€ ê°™ì€ ê²½ìš°ì—ë§Œ ê°™ì€ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ëŠ” ë¹„êµ ë°©ì‹ì´ë‹¤. ì¦‰, ë‘ ê°ì²´ê°€ ê°™ì€ í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ, ì„œë¡œ ë‹¤ë¥¸ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆë‹¤ë©´, ì–•ì€ ë¹„êµì—ì„œëŠ” ë‘ ê°ì²´ë¥¼ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ê°„ì£¼í•œë‹¤.

### 3.1. ì›ì‹œ íƒ€ì…ì˜ ë¶ˆë³€ì„±

ì›ì‹œ íƒ€ì…ì˜ ê°’, ì¦‰ ìˆ«ì(number), ë¬¸ìì—´(string), ë¶ˆë¦¬ì–¸(boolean), null, undefined, ì‹¬ë³¼(symbol)ì€ ê°’ ë³µì‚¬(pass-by-value) ë°©ì‹ìœ¼ë¡œ ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.

ë³€ìˆ˜ì— ì›ì‹œ íƒ€ì…ì˜ ê°’ì„ í• ë‹¹í•œë‹¤ë©´ ë©”ëª¨ë¦¬ì—ëŠ” 'ê°’ ìì²´'ê°€ ì €ì¥ëœë‹¤. ë³€ìˆ˜ì— ê°’ì„ ë‹¤ì‹œ í• ë‹¹í•˜ë©´ ì´ì „ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì„ ë‚¨ê¸´ ì±„ë¡œ(ì´ê²ƒì´ ë¶ˆë³€!) ìƒˆë¡œìš´ ë©”ëª¨ë¦¬ ì£¼ì†Œê°€ ìƒì„±ëœë‹¤. ì¦‰ ì›ì‹œ íƒ€ì…ì€ ë¶ˆë³€ì„±ì„ ì§€ë‹ˆë¯€ë¡œ, ë¦¬ì•¡íŠ¸ì—ì„œ ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.

> **ğŸ’¬ ì›ì‹œ íƒ€ì… í• ë‹¹ ì˜ˆì‹œ**
>
> ```js
> import React, { useState } from "react";
>
> export default function Counter() {
>   const [count, setCount] = useState(0);
>   const [show, setShow] = useState(true);
>   const operators = ["+", "-", "*"];
>   const [operator, setOperator] = useState(operators[0]);
>
>   return (
>     <div>
>       <button
>         onClick={() => {
>           let result;
>           if (operator === "+") result = count + 1;
>           if (operator === "-") result = count - 1;
>           if (operator === "*") result = count * 1;
>           setCount(result);
>         }}
>       >
>         {operator}1
>       </button>
>       <button onClick={() => setShow(!show)}>Show and Hide</button>
>       <button
>         onClick={() => {
>           const idx = Math.floor(Math.random() * operators.length);
>           setOperator(operators[idx]);
>         }}
>       >
>         Change Operator
>       </button>
>       <br />
>       {show && `Counter: ${count}`}
>     </div>
>   );
> }
> ```

### 3.2. ì°¸ì¡° íƒ€ì…ì˜ ë¶ˆë³€ì„±

ì°¸ì¡° íƒ€ì…ì˜ ê°’, ì¦‰ ê°ì²´(object), ë°°ì—´(array), í•¨ìˆ˜(function), Date ë“±ì€ ì°¸ì¡° ë³µì‚¬(pass-by-reference) ë°©ì‹ìœ¼ë¡œ ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.

ë³€ìˆ˜ì— ì°¸ì¡° íƒ€ì…ì˜ ê°’ì„ í• ë‹¹í•œë‹¤ë©´ ë©”ëª¨ë¦¬ì—ëŠ” 'ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê°€ë¥´í‚¤ëŠ” ì°¸ì¡°ê°’'ì´ í• ë‹¹ëœë‹¤. ë³€ìˆ˜ì— ê°’ì„ ë‹¤ì‹œ í• ë‹¹í•˜ë©´, ë³€ìˆ˜ì˜ ì°¸ì¡°ê°’ì— ë”°ë¥¸ ë©”ëª¨ë¦¬ ê³µê°„ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¶ˆë³€ì„±ì„ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì°¸ì¡° íƒ€ì…ì€ ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš© ì‹œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤.

> **ğŸ’¬ ì˜ëª»ëœ ì°¸ì¡° íƒ€ì… í• ë‹¹ ì˜ˆì‹œ**
>
> ```js
> import React, { useState } from "react";
>
> export default function Counter() {
>   const operators = ["+", "-", "*"];
>   const [info, setInfo] = useState({
>     count: 0,
>     show: true,
>     operator: operators[0],
>   });
>
>   return (
>     <div>
>       <button
>         onClick={() => {
>           let result;
>           if (info.operator === "+") result = info.count + 1;
>           if (info.operator === "-") result = info.count - 1;
>           if (info.operator === "*") result = info.count * 1;
>           info.count = result;
>           const newInfo = info;
>           setInfo(newInfo);
>         }}
>       >
>         {info.operator}1
>       </button>
>       <button
>         onClick={() => {
>           info.show = !info.show;
>           const newInfo = info;
>           setInfo(newInfo);
>         }}
>       >
>         Show and Hide
>       </button>
>       <button
>         onClick={() => {
>           const idx = Math.floor(Math.random() * operators.length);
>           info.operator = operators[idx];
>           const newInfo = info;
>           setInfo(newInfo);
>         }}
>       >
>         Change Operator
>       </button>
>       <br />
>       {info.show && `Counter: ${info.count}`}
>     </div>
>   );
> }
> ```

ê·¸ë ‡ë‹¤ë©´ ë¦¬ì•¡íŠ¸ì—ì„œ ì°¸ì¡°ê°’ì¸ ê°ì²´ì— ë³€í™”ë¥¼ ì£¼ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? ìœ„ ì˜ˆì œì²˜ëŸ¼ ê°ì²´ì˜ ì†ì„± ê°’ì„ ì§ì ‘ ë³€ê²½í•˜ë©´ ì•ˆë˜ê³ , ì´ì „ ìƒíƒœë¥¼ ë³µì œí•˜ê³  ë³€ê²½ëœ ì†ì„± ê°’ì„ ìˆ˜ì •í•œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ì „ë‹¬í•´ì•¼ í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ ë¶ˆë³€ì„±ì´ ìœ ì§€ë˜ì–´ ë¦¬ì•¡íŠ¸ëŠ” ìƒíƒœë³€ê²½ì„ ê°ì§€í•˜ì—¬ ë Œë”ë§í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

`setState({ ...state, newItem})`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´, ìŠ¤í”„ë ˆë“œ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ info ê°ì²´ì˜ ëª¨ë“  ì†ì„±ì„ ìƒˆë¡œìš´ ê°ì²´ì— ë³µì‚¬í•˜ê³  ìƒˆë¡œìš´ ê°ì²´ì˜ ì†ì„±ì„ ë³€ê²½í•˜ëŠ” ë°©ì‹ì„ í†µí•´ ë¶ˆë³€ì„±ì„ ê°€ì§€ê²Œ í•˜ì—¬ ë³€í™”ë¥¼ ê°ì§€í•œë‹¤.

> **ğŸ’¬ ì˜¬ë°”ë¥¸ ì°¸ì¡° íƒ€ì… í• ë‹¹ ì˜ˆì‹œ**
>
> ```js
> import React, { useState } from "react";
>
> export default function Counter() {
>   const operators = ["+", "-", "*"];
>   const [info, setInfo] = useState({
>     count: 0,
>     show: true,
>     operator: operators[0],
>   });
>
>   return (
>     <div>
>       <button
>         onClick={() => {
>           let result;
>           if (info.operator === "+") result = info.count + 1;
>           if (info.operator === "-") result = info.count - 1;
>           if (info.operator === "*") result = info.count * 1;
>           setInfo({ ...info, count: result });
>         }}
>       >
>         {info.operator}1
>       </button>
>       <button
>         onClick={() => {
>           setInfo({ ...info, show: !info.show });
>         }}
>       >
>         Show and Hide
>       </button>
>       <button
>         onClick={() => {
>           const idx = Math.floor(Math.random() * operators.length);
>           // setOperator(operators[idx]);
>           setInfo({ ...info, operator: operators[idx] });
>         }}
>       >
>         Change Operator
>       </button>
>       <br />
>       {info.show && `Counter: ${info.count}`}
>     </div>
>   );
> }
> ```

ë§Œì•½ ë³€ê²½í•˜ê³ ì í•˜ëŠ” ë°ì´í„°ê°€ ë°°ì—´ì´ë¼ë©´, `setState([...state, newItem])`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶ˆë³€ì„±ì„ ê°€ì§€ê²Œ í•  ìˆ˜ ìˆë‹¤.

## 4. propsì™€ state ë¹„êµ

propsëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ì „ë‹¬í•˜ëŠ” ê°’ìœ¼ë¡œ ê°’ì„ ìì‹ (ìì‹ ì»´í¬ë„ŒíŠ¸)ì´ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤. ë°˜ë©´ stateëŠ” ìì‹ (ì»´í¬ë„ŒíŠ¸)ì´ ìŠ¤ìŠ¤ë¡œ ê´€ë¦¬í•˜ëŠ” ê°’ìœ¼ë¡œ ê°’ì„ ìì‹ ì´ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

propsë¥¼ í†µí•´ ê°’ì„ ë‚´ë ¤ ë°›ê±°ë‚˜ stateì— ë³€ê²½ì´ ë°œìƒí•˜ë©´ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ì´ ë°œìƒí•œë‹¤ëŠ” ê³µí†µì ì´ ìˆë‹¤.

ì–´ë–¤ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ë•Œ, ì •ì ìœ¼ë¡œ ê´€ë¦¬ë˜ëŠ” ë°ì´í„°ë¼ë©´ propsë¥¼ ì‚¬ìš©í•˜ê³ , ìƒí˜¸ì‘ìš©ì´ í•„ìš”í•˜ë‹¤ë©´ stateë¥¼ í†µí•´ ê´€ë¦¬í•œë‹¤.

## 5. ë‹¨ë°©í–¥ ë°ì´í„° íë¦„

ì»´í¬ë„ŒíŠ¸ëŠ” ìì‹ ì˜ stateë¥¼ ìì‹ ì»´í¬ë„ŒíŠ¸ì— propsë¥¼ í†µí•´ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ 'í•˜í–¥ì‹' ë˜ëŠ” 'ë‹¨ë°©í–¥ì‹' ë°ì´í„° íë¦„ì´ë¼ê³  í•œë‹¤. ëª¨ë“  stateëŠ” í•­ìƒ íŠ¹ì •í•œ ì»´í¬ë„ŒíŠ¸ê°€ ì†Œìœ í•˜ê³  ìˆìœ¼ë©° ê·¸ stateë¡œ ë¶€í„° íŒŒìƒëœ UI ë˜ëŠ” ë°ì´í„°ëŠ” ì˜¤ì§ íŠ¸ë¦¬êµ¬ì¡°ì—ì„œ ìì‹ ì˜ ì•„ë˜ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤.

## 6. state ëŒì–´ì˜¬ë¦¬ê¸°

Reactì—ì„œì˜ ë°ì´í„° íë¦„ì€ ë‹¨ë°©í–¥ì´ê¸° ë•Œë¬¸ì—, ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ë©´ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” í•´ë‹¹ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ê³ ì í•  ë•ŒëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ì „ë‹¬í•˜ì—¬ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•´ì•¼ í•œë‹¤. 'state ëŒì–´ì˜¬ë¦¬ê¸°'ëŠ” stateë¥¼ ìµœìƒìœ„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œ ì˜®ê¹€ìœ¼ë¡œì¨, ìƒíƒœ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ë•Œ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê³  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ë‹¤ì‹œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì„ ì·¨í•œë‹¤. ì´ë¥¼ í†µí•´ ìƒíƒœ ë°ì´í„°ê°€ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì„ ìœ ì§€í•˜ë©´ì„œë„ ìƒíƒœë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

state ëŒì–´ì˜¬ë¦¬ê¸°ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœ ë°ì´í„°ë¥¼ ìµœìƒìœ„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œ ì˜®ê¸°ë¯€ë¡œ, í•´ë‹¹ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê³ , ë‹¤ë¥¸ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì´ ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ "ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì›"ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì›ì´ë€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ë°ì´í„°ì˜ ì›ë³¸ì„ ì •ì˜í•˜ê³ , ë‹¤ë¥¸ ëª¨ë“ˆì´ë‚˜ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì´ ì›ë³¸ ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ëŠ” ë°©ì‹ì˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ë¥¼ ì˜ë¯¸í•œë‹¤.

> [ğŸ’¬ State ëŒì–´ì˜¬ë¦¬ê¸° ì˜ˆì œ](https://github.com/ehhdrud/workspace/tree/main/React/state)  
> 'Calculator.js'ë¼ëŠ” ìƒìœ„ í´ë”ë¡œ stateë¥¼ ëŒì–´ì˜¬ë ¤ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
