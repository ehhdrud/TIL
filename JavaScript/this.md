# this

thisë€ íŠ¹ì • **ê°ì²´**ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” **ì§€ì‹œì**ì´ì **ì˜ˆì•½ì–´**ì´ë‹¤.

**í•¨ìˆ˜ì—ì„œì˜ this**ëŠ” **ì „ì—­ ê³µê°„**ì„ ê°€ë¥´í‚¤ê³ , **ë©”ì„œë“œ**ì—ì„œì˜ thisëŠ” **í˜¸ì¶œí•œ ê°ì²´ì˜ ê³µê°„**ì„ ê°€ë¥´í‚¨ë‹¤.

`new`ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ë¹„ìŠ·í•œ ì—¬ëŸ¬ê°œì˜ ê°ì²´ë¥¼ ì‰½ê²Œ ì°ì–´ë‚¼ ìˆ˜ ìˆë‹¤.

```js
let user = {
  name: "SDK",
};

let admin = {
  name: "Seo",
};

function hello_func() {
  console.log("hello" + this.name);
}
//í•¨ìˆ˜ ë‚´ë¶€ thisê°’ì€ ëŸ°íƒ€ì„ì— ê²°ì •ëœë‹¤.

user.func = hello_func;
admin.func = hello_func;

user.func(); //helloSDK
admin.func(); //helloSEO
```

## 1. ë°”ì¸ë”©

### 1.1. ì•”ì‹œì  ë°”ì¸ë”©

ê¸°ë³¸ì ìœ¼ë¡œ *ì•„ë˜ ê·œì¹™*ì²˜ëŸ¼ ë™ì‘í•œë‹¤. í•˜ì§€ë§Œ ì—¬ëŸ¬ê°€ì§€ í™˜ê²½ì  ìš”ì†Œê°€ ì•”ì‹œì  ë°”ì¸ë”©ì— ê´€ì—¬í•˜ë¯€ë¡œ ì˜ˆì¸¡í•˜ê¸° ë§¤ìš° ì–´ë µë‹¤.

#### 1.1.1. ì „ì—­ ê³µê°„ì—ì„œì˜ `this`

**ì „ì—­ ê°ì²´**ì— ë°”ì¸ë”©ëœë‹¤. ì‹¤í–‰í™˜ê²½ë§ˆë‹¤ ì „ì—­ ê°ì²´ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ì—ì„œëŠ” `window`, node.jsì—ì„œëŠ” `global`ì„ ê°€ë¥´í‚¨ë‹¤.

#### 1.1.1.1. í•¨ìˆ˜ì—ì„œì˜ `this`

í˜¸ì¶œë˜ëŠ” ìœ„ì¹˜ì— ë”°ë¼ ë°”ì¸ë”©ëœë‹¤.

ì•„ë¬´ê²ƒë„ ëª…ì‹œí•˜ì§€ ì•Šê³  í˜¸ì¶œ ì‹œ **ì „ì—­ ê°ì²´**ì— ë°”ì¸ë”©ëœë‹¤.

`obj.func`ì²˜ëŸ¼ **í˜¸ì¶œë˜ëŠ” ìœ„ì¹˜**ê°€ ìˆë‹¤ë©´ ê·¸ ìœ„ì¹˜(`obj`)ì— ë°”ì¸ë”© ëœë‹¤.

#### 1.1.1.1. ë©”ì„œë“œì—ì„œì˜ `this`

í˜¸ì¶œí•œ ê°ì²´ì˜ ê³µê°„, ì¦‰ **í˜¸ì¶œë˜ëŠ” ìœ„ì¹˜**ë¥¼ ê°€ë¥´í‚¨ë‹¤. ì„ ê°€ë¥´í‚¨ë‹¤.

### 1.2. ëª…ì‹œì  ë°”ì¸ë”©

ì•”ì‹œì  ë°”ì¸ë”©ì´ ì˜ˆì¸¡ì´ ì–´ë µê²Œ ë™ì‘í•  ë•Œë¥¼ ëŒ€ë¹„í•´, thisì˜ ê°ì²´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•´ ì¤„ ìˆ˜ ìˆë‹¤.

#### 1.2.1. `function.call`

**í•¨ìˆ˜ë¥¼ í˜¸ì¶œ**í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

ì²« ë²ˆì§¸ ì¸ìë¡œ **thisê°€ ê°€ë¥´í‚¬ ê°ì²´**, ë‘ ë²ˆì§¸ ì¸ìë¶€í„°ëŠ” **í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜**ë¥¼ ì…ë ¥í•œë‹¤.

#### 1.2.2. `function.apply`

**í•¨ìˆ˜ë¥¼ í˜¸ì¶œ**í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

ì²« ë²ˆì§¸ ì¸ìë¡œ **thisê°€ ê°€ë¥´í‚¬ ê°ì²´**, ë‘ ë²ˆì§¸ ì¸ìë¶€í„°ëŠ” **ë°°ì—´ì¸ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜**ë¥¼ ì…ë ¥í•œë‹¤.

#### 1.2.3. `function.bind`

**í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì§€ì •í•œ ê°ì²´ë¡œ ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ë¦¬í„´**í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

ì²« ë²ˆì§¸ ì¸ìë¡œ **thisê°€ ê°€ë¥´í‚¬ ê°ì²´**ë¥¼ ì…ë ¥í•œë‹¤.

> **ğŸ“Œcall, apply, bind í•¨ìˆ˜ ì˜ˆì‹œ**
>
> ```js
> const user = {
>   name: "ë™ê²½",
>   sayName: function () {
>     return this.name + "ì…ë‹ˆë‹¤.";
>   },
> };
>
> function sayFullName(firstName) {
>   return firstName + this.sayName();
> }
>
> const result1 = sayFullName.call(user, "ì„œ");
> console.log(result1); //ì„œë™ê²½ì…ë‹ˆë‹¤.
>
> const result2 = sayFullName.apply(user, ["ì„œ"]);
> console.log(result2); //ì„œë™ê²½ì…ë‹ˆë‹¤.
>
> const boundSay = sayFullName.bind(user);
> const result3 = boundSay("ì„œ");
> console.log(result3); //ì„œë™ê²½ì…ë‹ˆë‹¤.
> ```

## 2. thisì˜ ì‚¬ìš©

### 2.1. ì „ì—­ì— ì„ ì–¸ëœ í•¨ìˆ˜ì˜ this

#### 2.1.1. functionì´ ì „ì—­(window, global)ì¸ ê²½ìš°

```js
function myFn() {
  return this;
}
myFn(); // window ê°ì²´ ì¶œë ¥
```

#### 2.1.2. newì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ ìƒì„±ì í•¨ìˆ˜ ë°©ì‹ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œ ê²½ìš°

```js
function MyFn() {
  this.title = "Hello World!";
  return this;
}
// new ì—°ì‚°ìë¥¼ ì´ìš©í•´ì„œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ì–»ëŠ”ë‹¤.
const myfn = new MyFn();
myfn; // MyFn {title: 'Hello World!'}
```

### 2.2. ê°ì²´ì— ì„ ì–¸ëœ ë©”ì„œë“œì˜ this

#### 2.2.1. í•´ë‹¹ ê°ì²´ë¥¼ ë°”ë¡œ ê°€ë¥´í‚¤ëŠ” ê²½ìš°

showTitle() ë©”ì†Œë“œëŠ” fn ê°ì²´ì˜ ë©”ì†Œë“œì´ê¸° ë•Œë¬¸ì— thisëŠ” fn ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤.

```js
const fn = {
  title: "Hello World!",
  showTitle() {
    console.log(this.title);
  },
};
fn.showTitle(); // 'Hello World!'
```

#### 2.2.2. ê³ ì°¨í•¨ìˆ˜ì˜ ì½œë°±í•¨ìˆ˜ ì•ˆì—ì„œì˜ this

##### 2.2.2.1. ë¬¸ì œì 

ì½œë°±í•¨ìˆ˜ê°€ ì¼ë°˜í•¨ìˆ˜ì´ë¯€ë¡œ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤.

```js
const fn = {
  title: "Hello World!",
  tags: [1, 2, 3],
  showTags() {
    this.tags.forEach(function (tag) {
      console.log(tag);
      console.log(this); // window
    });
  },
};
fn.showTags();
/**
 * output:
 * 1
 * window ê°ì²´ ì¶œë ¥
 * 2
 * window ê°ì²´ ì¶œë ¥
 * 3
 * window ê°ì²´ ì¶œë ¥
 */
```

##### 2.2.2.1. í•´ê²° ë°©ë²•

ì½œë°±í•¨ìˆ˜ ë‹¤ìŒ ì¸ìë¡œ ì°¸ì¡°í•  ê°ì²´ë¥¼ ì „ë‹¬í•´ì¤€ë‹¤.

```js
const fn = {
  title: "Hello World!",
  tags: [1, 2, 3],
  showTags() {
    this.tags.forEach(function (tag) {
      console.log(tag);
      console.log(this); // fn
    }, this); // ì—¬ê¸°ëŠ” ì¼ë°˜ í•¨ìˆ˜ ë°”ê¹¥, ì¦‰ fn ê°ì²´ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
  },
};
fn.showTags();
/**
 * output:
 * 1
 * fn ê°ì²´ ì¶œë ¥
 * 2
 * fn ê°ì²´ ì¶œë ¥
 * 3
 * fn ê°ì²´ ì¶œë ¥
 */
```

#### 2.2.3. í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œì˜ this

function í‚¤ì›Œë“œë¡œ ìƒì„±í•œ ì¼ë°˜í•¨ìˆ˜ì™€ í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ê°€ì¥ í° ì°¨ì´ì ì´ ë°”ë¡œ thisì´ë‹¤.

í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œì˜ thisëŠ” ì–¸ì œë‚˜ ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisì´ë‹¤. ì´ë¥¼ **Lexical this**ë¼ê³  í•œë‹¤. ì¦‰, ì¼ë°˜í•¨ìˆ˜ëŠ” í•¨ìˆ˜ë¥¼ *í˜¸ì¶œ*í•  ë•Œ ë°”ì¸ë”©í•  ê°ì²´ê°€ ë™ì ìœ¼ë¡œ ì •í•´ì§„ë‹¤ë©´, í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ë¥¼ *ì„ ì–¸*í•  ë•Œ ë°”ì¸ë”©í•  ê°ì²´ê°€ ì •ì ìœ¼ë¡œ ì •í•´ì§„ë‹¤.

í™”ì‚´í‘œ í•¨ìˆ˜ì˜ thisëŠ” `call`, `apply`, `bind`ë¥¼ í†µí•´ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.

> **ğŸ“ŒLexical Scope(Static Scope)**
>
> í•¨ìˆ˜ê°€ ì–´ë””ì„œ *í˜¸ì¶œ*ë˜ì—ˆëŠ”ì§€ê°€ ì•„ë‹ˆë¼ ì–´ë””ì„œ *ì„ ì–¸*ë˜ì—ˆëŠ”ì§€ì— ë”°ë¼ ìƒìœ„ ìŠ¤ì½”í”„ê°€ ê²°ì •

```js
const fn = {
  title: "Hello World!",
  tags: [1, 2, 3],
  showTags() {
    this.tags.forEach((tag) => {
      console.log(tag);
      console.log(this); // fn
    });
  },
};
fn.showTags();
/**
 * output:
 * 1
 * fn ê°ì²´ ì¶œë ¥
 * 2
 * fn ê°ì²´ ì¶œë ¥
 * 3
 * fn ê°ì²´ ì¶œë ¥
 */
```
